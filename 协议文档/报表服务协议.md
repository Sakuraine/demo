# 报表服务协议

## 基本信息

端口号：8014
RedisDB：6
支持文件导出各种格式，打印预览等功能。


## 协议一览表 药房 


| 名称                 | 地址与操作                                      | 描述 |
| -------------------- | -------------------------------- | ----------- |
| 药品入库单打印      |  [GET]/jasreport_service/drug_arrival/print/{pattern} |    |
| 药品出库单打印      |  [GET]/jasreport_service/drug_bizout/print/{pattern} |    |
| 盘点单详情打印      |  [GET]/jasreport_service/drug_inventory/print/{pattern} |    |


## 协议一览表 报表查询  

| 名称                 | 地址与操作                                      | 描述 |
| -------------------- | -------------------------------- | ----------- |
| 销售报表导出         |[GET]/jasreport_service/sale/{pattern} |    |
| 库存报表导出         |[GET]/jasreport_service/stock/{pattern} |    |
| 进销存报表导出       |[GET]/jasreport_service/stock/inout/{pattern} |   |
| 工作量报表导出       |[GET]/jasreport_service/other/work/{pattern} |   |
| 外来处方工作量报表       |[GET]/jasreport_service/other/out_work/{pattern} |   |
| 进销存报表定制导出   |[GET]/jasreport_service/stock/inout/wenzhou/{pattern} |   |
| 销售总报表导出   |[GET]/jasreport_service/sale/total/{pattern} |   |

## 协议一览表 ERP

| 名称                 | 地址与操作                                      | 描述 |
| -------------------- | -------------------------------- | ----------- |
| 商品入库单打印         | [GET]/jasreport_service/stock_manage/arrival/print/{pattern}  |    |
| 商品出库单打印         | [GET]/jasreport_service/stock_manage/out/print/{pattern} |    |
| 商品退货单打印         | [GET]/jasreport_service/stock_manage/retu/print/{pattern} |    |
| 商品其它出库打印       | [GET]/jasreport_service/stock_manage/otherout/print/{pattern} |    |
| 盘点单打印             | [GET]/jasreport_service/stock_manage/depot/inventory/print/{pattern} |    |
| 销售订单打印           | [GET]/jasreport_service/sale_service/sales_order/print/{pattern} |    |
| 定做查询供应商明细打印 |[GET]/jasreport_service/sale_service/supplier_query/print/{pattern} |    |
| 商品进销存详情列表导出 |[GET]/jasreport_service/stock_info/goods/changes/{pattern} |    |
| 成本调整记录详情导出 |[GET]/jasreport_service/stock_info/goods/adjustment/{pattern} |    |

## 协议一览表 挂号 病历

| 名称                 | 地址与操作                                      | 描述 |
| -------------------- | -------------------------------- | ----------- |
| 打印排班挂号、预约患者列表     | [GET]/jasreport_service/schedule_service/query_book/print/{pattern} |    |
| 病例打印                       | [GET]/jasreport_service/diag_service/clin_reco/print/{pattern} |    |
| 医嘱打印                       | [GET]/jasreport_service/diag_service/order/print/{pattern} |    |
| 药品标签打印                   | [GET]/jasreport_service/drug_service/business/dispense/tab/print/{pattern} |    |
| 体检报告单打印                   | [GET]/jasreport_service/pati_service/physical_check/print/{pattern} |    |
| 病历修订记录详情                   | [GET]/jasreport_service/qc/modify_record/{pattern} |    |






### 药品入库单打印

> [GET]/jasreport_service/drug_arrival/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1 | 新增   |

#### 请求报文参数

#### RequestBody

| 参数名        | 类型     | 必填   | 说明    |
| ---------- | ------ | ---- | ----- |
| arrival_id | String | 是    | 到货单ID |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |   |    |    |


### 药品出库单打印

> [GET]/jasreport_service/drug_bizout/print/{pattern}

####修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.2 | 新增   |

#### 请求报文参数

#### RequestBody

| 参数名        | 类型     | 必填   | 说明    |
| ---------- | ------ | ---- | ----- |
| bizout_id | String | 是    | 出库单  |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| pdf流 |      |      |      |




### 盘点单详情打印 
```url
[GET]/jasreport_service/drug_inventory/print/{pattern}
```
#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.2 | 新增   |

#### 请求报文参数

#### RequestBody

| 参数名          | 类型     | 必填   | 说明    |
| ------------ | ------ | ---- | ----- |
| inventory_id | String | 是    | 盘点单ID |

#### 回复报文参数

| 参数名             | 类型         | 必填   | 说明                    |
| --------------- | ---------- | ---- | --------------------- |
| pdf流 |      |      |      |



### 销售报表导出EXCEL/PDF/HTML

> [GET]/jasreport_service/sale/{pattern}
>  pattern : pdf,html,excel

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |


#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明                   |
| --------- | ------- | ---- | -------------------- |
| agen_id   | String  | 是    | 运营机构                 |
| depa_list | String  | 否    | 销售部门id(不选全部)         |
| begin     | String  | 是    | 开始时间                 |
| end       | String  | 是    | 结束时间                 |
| is_return | Integer | 否    | 是否包含退费               |
| clas_id   | String  | 否    | 商品类别   单选     |
| bran_id   | String  | 否    | 商品品牌    单选    |
| vari_id   | String  | 否    | 商品品种    单选    |
| supplier_id       | String  | 否    | 供应商  单选  |
| select    | String  | 是    | 供应商0，类别1，品牌2，品种3，细目4 |
|is_contain_stock|Integet| 是 | 是否包含库存 0:否  1:是 |
|group_depa|Integet| 是 | 是否按销售部门分组  0:否  1:是 |


#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |   |    |    |


### 库存报表导出EXCEL/PDF/HTML

> [GET]/jasreport_service/stock/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名          | 类型      | 必填   | 说明                   |
| ------------ | ------- | ---- | -------------------- |
| agen_id      | String  | 是    | 运营机构                 |
| depo_list    | String  | 否    | 销售仓库id(不选全部)         |
| clas_id      | String  | 否    | 商品类别     单选             |
| bran_id      | String  | 否    | 商品品牌      单选            |
| vari_id      | String  | 否    | 商品品种      单选            |
| supplier_id       | String  | 否    | 供应商    单选  |
| time         | String  | 是    | 时间                   |
| is_now       | Integer | 是    | 是否实时                 |
| is_depo_group |Integer | 是    | 是否按仓库分组 0:不分组 1:分组          |
| in_depo_list | String  | 否    | 入库仓库id               |
| select       | String  | 是    | 供应商0，类别1，品牌2，品种3，细目4 |


#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |   |    |    |


### 进销存报表导出EXCEL/PDF/HTML

> [GET]/jasreport_service/stock/inout/{pattern}
> pattern : pdf,html,excel


#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明            |
| --------- | ------- | ---- | ------------- |
| agen_id   | String  | 是    | 运营机构          |
| depo_list | String  | 否    | 销售仓库id(不选全部)  |
| begin     | String  | 是    | 开始时间          |
| end       | String  | 是    | 结束时间          |
| is_stock  | Integer | 是    | 按出入库汇总统计0否，1是 |
| clas_id      | String  | 否    | 商品类别    单选              |
| bran_id      | String  | 否    | 商品品牌    单选              |
| vari_id      | String  | 否    | 商品品种     单选             |
| supplier_id       | String  | 否    | 供应商    单选  |
|is_depo_group|Integet| 是 | 是否按仓库分组  0:否  1:是 |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |   |    |    |

### 进销存报表导出EXCEL（温州）

> [GET]/jasreport_service/stock/inout/wenzhou/{pattern}
> 
#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.3 | 修改   |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明           |
| --------- | ------- | ---- | ------------ |
| agen_id   | String  | 是    | 运营机构         |
| depo_list | String  | 否    | 销售仓库id(不选全部) |
| begin     | String  | 是    | 开始时间         |
| end       | String  | 是    | 结束时间         |
| is_detail | Integer | 是    | 是否为明细版0否，1是  |
|is_depo_group|Integet| 是 | 是否按仓库分组  0:否  1:是 |
| is_stock  | Integer | 是    | 按出入库汇总统计0否，1是 |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |   |    |    |




#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|文件流    |   |    |    |




### 商品入库单打印  EXCEL/PDF/HTML    

> [GET]/jasreport_service/stock_manage/arrival/print/{pattern}
> pattern : pdf,html,excel


#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明     |
| ------- | ------ | ---- | ------ |
| arri_id | String | 是    | 出入库单ID |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流   |      |      |      |


### 商品出库单打印     

> [GET]/jasreport_service/stock_manage/out/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| allo_id | String | 是    | 调拨ID |

#### 回复报文参数Object

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|   文件流   |      |      |      |


### 商品退货单打印     

> [GET]/jasreport_service/stock_manage/retu/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| retu_id | String | 是    | 退货ID |

#### 回复报文参数
| 参数名  | 类型   | 必填   | 说明   |      |      |
| ---- | ---- | ---- | ---- | ---- | ---- |
|   文件流   |      |      |      |      |      |



### 商品其它出库打印

> [GET]/jasreport_service/stock_manage/otherout/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

|   参数名    |  类型  | 必填 |      说明      |
|-------------|--------|------|----------------|
| otherout_id | String | 是   | 其它出库记录ID |

#### 回复报文参数Object

|  参数名   | 类型 | 必填 | 说明 |
|-----------|------|------|------|
| 文件流 |      |      |      |


### 盘点单打印

> [GET]/jasreport_service/stock_manage/depot/inventory/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改    |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明    |
| ------- | ------ | ---- | ----- |
| inve_id | String | 是    | 盘点单id |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 无    |      |      |      |


### 销售订单打印

> [GET]/sale_service/sales_order/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明    |
| ------- | ------ | ---- | ----- |
| sale_id | String | 是    | 销售单id |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流 |      |      |      |


### 定做查询供应商明细打印

> [GET]/jasreport_service/sale_service/supplier_query/print/{pattern}
> pattern : pdf,html,excel

#### 请求报文参数

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

| 参数名           | 类型      | 必填   | 说明                    |
| ------------- | ------- | ---- | --------------------- |
| good_supplier | Long    | 是    | 供应商id                 |
| key         | String  | 否    | |
| state         | String  | 否    | 到货状态 0未到货 1已到货 不传表示全部 |
| start_time    | String  | 否    | 开始时间                  |
| end_time      | String  | 否    | 结束时间                  |


#### 回复报文参数

| 参数名                | 类型         | 必填   | 说明                |
| ------------------ | ---------- | ---- | ----------------- |
| 文件流      |        |     |              |


### 打印排班挂号、预约患者列表

> [GET]/jasreport_service/schedule_service/query_book/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型      | 必填   | 说明             |
| ------- | ------- | ---- | -------------- |
| sche_id | String  | 是    | 排班id           |
| type    | Integer | 是    | 查询类型 1：挂号 2：预约 |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流 |      |      |      |


### 病例打印

> [GET]/jasreport_service/diag_service/clin_reco/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型   | 必填   | 说明   |
| ------- | ---- | ---- | ---- |
| trea_id | Long | 是    | 就诊ID |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |      |      |      |


### 医嘱打印

> [GET]/jasreport_service/diag_service/order/print/{pattern}
> pattern : pdf,html,excel

#### 修改更新记录
| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.1.1 | 修改   |

#### 请求报文参数

| 参数名     | 类型   | 必填   | 说明   |
| ------- | ---- | ---- | ---- |
| trea_id | Long | 是    | 就诊ID |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 文件流    |      |      |      |

### 药品标签打印

```url
[GET]/jasreport_service/drug_service/business/dispense/tab/print/{pattern}
```

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.2 | 新增   |

#### 请求报文参数

#### RequestBody

| 参数名          | 类型     | 必填   | 说明     |
| ------------ | ------ | ---- | ------ |
| pres_id      | String | 是    | 处方id   |
| orde_id | String |  否   | 医嘱号  |

#### 回复报文参数

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| pdf文件流 |      |      |      |




### 工作量报表

> [GET]/jasreport_service/other/work/{pattern}
> 

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.3 | 修改   |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明           |
| --------- | ------- | ---- | ------------ |
| agen_id   | String  | 是    | 运营机构         |
| depa_list | String  | 否    | 销售仓库id(不选全部) |
| begin     | String  | 是    | 开始时间         |
| end       | String  | 是    | 结束时间         |
| type      | Integer | 是    | 0:营业员销售额,1:医生销售额,2:科室销售额,3:个人销售额，4:验光师        |
| select    | String  | 是    | 供应商0，类别1，品牌2，品种3，细目4 |

#### 回复报文参数

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| pdf文件流 |      |      |      |



### 外来处方工作量报表

> [GET]/jasreport_service/other/out_work/{pattern}
> 

#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.5 | 新增    |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明           |
| --------- | ------- | ---- | ------------ |
| agen_id   | String  | 是    | 运营机构         |
| depa_list | String  | 否    | 销售仓库id(不选全部) |
| begin     | String  | 是    | 开始时间         |
| end       | String  | 是    | 结束时间         |
| select    | String  | 是    | 供应商0，类别1，品牌2，品种3，细目4 |


select拼接规则，参照销售报表

#### 回复报文参数

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| pdf文件流 |      |      |      |






### 销售总报表导出

> [GET]/jasreport_service/sale/total/{pattern}
> 


#### 修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.3.3 | 修改   |

#### 请求报文参数

| 参数名       | 类型     | 必填   | 说明                   |
| --------- | ------ | ---- | -------------------- |
| agen_id   | String | 是    | 运营机构                 |
| depa_list | String | 否    | 销售部门id(不选全部)         |
| begin     | String | 是    | 开始时间                 |
| end       | String | 是    | 结束时间                 |
| select    | String | 是    | 供应商0，类别1，品牌2，品种3，细目4 |
| is_stage  | Integer | 是    | 不分期：0   分期：1  |
|group_depa|Integet| 是 | 是否按销售部门分组  0:否  1:是 |


#### 回复报文参数

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| pdf文件流 |      |      |      |


### 商品进销存详情列表导出

```http
[GET]/jasreport_service/stock_info/goods/changes/{pattern}
```

####修改更新记录

| 对应业务 | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| V1.3.3   | 新增商品进销存详情列表<br />总行数和页码数为批号相关的信息值（batch_list） |

#### 请求报文参数


| 参数名     | 类型   | 必填 | 说明               |
| ---------- | ------ | ---- | ------------------ |
| goods_id   | Long   | 是   | 商品ID |
| depot_id   | Long   | 是   | 仓库ID             |
| goods_factory_id | Long | 是  |   生产厂家id     |
| goods_supplier_id | String  | 否    | 供应商              |
| mode_id | Integer | 否  |业务ID      |
| start_time | String | 否   | 开始时间       |
| end_time   | String | 否   | 结束时间       |
| key | String | 否 | 入库属性或者产品批号 |
| change_no | String | 否 | 单号 |

#### 回复报文参数

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| pdf文件流 |      |      |      |


### 成本调整记录详情导出

```http
[GET]/jasreport_service/stock_info/goods/adjustment/{pattern}
```

####修改更新记录

| 对应业务 | 说明             |
| -------- | ---------------- |
| V1.3.3   | 成本调整记录详情 |

#### 请求报文参数

| 参数名     | 类型   | 必填 | 说明               |
| ---------- | ------ | ---- | ------------------ |
| adju_id | String |  是  |   调价单id     |

#### 回复报文参数

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| pdf文件流 |      |      |      |


## 患者服务

### 患者信息导出Excel

```
 [GET]/jasreport_service/patients/info/export/excel
```

#### 修改更新记录

| 对应版本 | 说明              |
| -------- | ----------------- |
| V1.3.3.1   | 新增 患者信息查询导出Excel(单个Excel文件最大行数为5000，超出的分隔多个文件，最终形成压缩包导出) |


#### 请求报文参数

| 参数名            | 类型    | 必填 | 说明                        |
| ----------------- | ------- | ---- | --------------------------- |
| key               | String  | 否   | 姓名、手机号或身份证        |
| gender            | Integer | 否   | 1:男，2:女，不传或者0为全部 |
| birthday_start    | String  | 否   | 出生日期开始日期            |
| birthday_end      | String  | 否   | 出生日期结束日期            |
| create_time_start | String  | 否   | 建档日期开始日期            |
| create_time_end   | String  | 否   | 建档日期结束日期            |
| trea_time_start   | String  | 否   | 建档日期开始日期            |
| trea_time_end     | String  | 否   | 建档日期结束日期            |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|文件流    |  |  |  |



##收费单/退费单打印

### 当天已收费订单打印

>[GET]/jasreport_service/charge/today_payed/print/pdf

#### 更新记录

| 对应版本     | 说明                  |
| -------- | ------------------- |
| V1.3.4 | 修改  增加检查单 |


#### 请求报文参数

| 参数名  |  类型  | 必填 |  说明  |
|---------|--------|------|--------|
| char_id | String | 是   | 订单ID |

#### 回复报文参数Object

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| pdf流 |      |      |      |

### 当天已退费订单打印

>[GET]/jasreport_service/charge/today_refund/print/pdf 

| 对应版本     | 说明                  |
| -------- | ------------------- |
| V1.3.4 | 修改  增加检查单 |


### 收费明细列表导出

```http
  [GET]/jasreport_service/statistics/particulars_list/excel
```

####修改更新记录

| 对应版本            | 说明         |
| --------------- | ---------- |
| hotfix/V1.2.3.1 | 新增  新增导出功能 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名            | 类型     | 必填   | 说明                                   |
| -------------- | ------ | ---- | ------------------------------------ |
| account_id     | String | 是    | 收费账户id                               |
| start_date     | String | 是    | 开始日期                                 |
| end_date       | String | 是    | 结束日期                                 |
| char_user      | int    | 否    | 收\退费人 不传是全部                          |
| char_source    | int    | 否    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售)           |
| accurate_query | int    | 是    | 精确查询模式：0:无精确 1:患者姓名 2:患者手机号码 3：单号    |
| key            | String | 否    | 根据精确查询模式，代表不同含义 1:患者姓名 2:患者手机号码 3：单号 |
| pay_or_return  | String | 是    | 收费或退费 0收费1退费                         |




#### 回复报文参数 

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| xls文件流 |      |      |      |

### 收费项目统计导出

```http
 [GET]/jasreport_service/statistics/item/excel
```
####修改更新记录

| 对应业务            | 说明         |
| --------------- | ---------- |
| hotfix/V1.2.3.1 | 新增  新增导出功能 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名            | 类型     | 必填   | 说明                                   |
| -------------- | ------ | ---- | ------------------------------------ |
| account_id     | String | 是    | 收费账户id                               |
| start_date     | String | 是    | 开始日期                                 |
| end_date       | String | 是    | 结束日期                                 |
| type_id        | String | 否    | 收费类别id 不传是全部                         |
| char_source    | String | 否    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售) 不传是全部     |
| char_user      | int    | 否    | 收\退费人 不传是全部                          |
| accurate_query | int    | 是    | 精确查询模式：0:无精确 1:患者姓名 2:患者手机号码 3：单号    |
| key            | String | 否    | 根据精确查询模式，代表不同含义 1:患者姓名 2:患者手机号码 3：单号 |


#### 回复报文参数 

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| xls文件流 |      |      |      |

### 收费类别统计导出

```http
 [GET]/jasreport_service/statistics/class/excel
```

####修改更新记录

| 对应业务            | 说明         |
| --------------- | ---------- |
| hotfix/V1.2.3.1 | 新增  新增导出功能 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名        | 类型     | 必填   | 说明     |
| ---------- | ------ | ---- | ------ |
| account_id | String | 是    | 收费账户id |
| start_date | String | 是    | 开始日期   |
| end_date   | String | 是    | 结束日期   |


#### 回复报文参数 ObjectList

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| xls文件流 |      |      |      |


### 患者二维码打印

```http
[GET]/jasreport_service/patient_info/bar_code/print/pdf
```

#### 修改更新记录

| 对应版本 | 说明 |
| -------- | ---- |
| V1.3.4.1 | 新增 患者条形码打印 |


#### 请求报文参数

| 参数名  | 类型   | 必填 | 说明   |
| ------- | ------ | ---- | ------ |
| pati_id | String | 是   | 患者ID |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| 无     |      |      |      |


### 体检报告单打印

```http
[GET]/jasreport_service/pati_service/physical_check/print/{pattern} 
```

#### 修改更新记录

| 对应版本 | 说明 |
| -------- | ---- |
| V1.3.5 | 新增 体检报告打印 |


#### 请求报文参数

| 参数名  | 类型   | 必填 | 说明   |
| ------- | ------ | ---- | ------ |
| trea_id | String | 是   | 就诊id |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| 无     |      |      |      |




### 病历修订记录详情/打印

```http
 [GET]/jasreport_service/qc/modify_record/{pattern}  
```

#### 修改更新记录

|  对应业务 | 说明 |
|-----------|------|
| V1.3.5 | 修改 对于有病历号(pati_mrno)字段的，显示病历号，显示签名 支持pdf |


#### 请求报文参数

|       参数名        |    类型    | 必填 |          说明          |
|---------------------|------------|------|--------------|
| reco_id             | String     | 是   | 操作记录ID       |
| flag             | Integer     | 否   | 留痕标志 0 最终 1 留痕        |
| is_print             | Integer     | 否   | 是否打印 0 否 1 是        |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |


### 入库报表

> [GET]/jasreport_service/stock/in/{pattern}  
> 
#### 修改更新记录

|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名           | 类型      | 必填   | 说明                   |
| ------------- | ------- | ---- | -------------------- |
| agen_id       | String  | 是    | 运营机构                 |
| depo_list     | String  | 否    | 销售仓库id(不选全部)         |
| clas_id       | String  | 否    | 商品类别                 |
| bran_id       | String  | 否    | 商品品牌                 |
| vari_id       | String  | 否    | 商品品种                 |
| begin         | String  | 是    | 开始时间                 |
| end           | String  | 是    | 结束时间                 |
| in_type       | Integer | 是    | 入库类型                 |
| mfr_id        | String  | 否    | 供应商                  |
| out_depo_list | String  | 否    | 出库仓库id               |
| select        | String  | 是    | 供应商0，类别1，品牌2，品种3，细目4 |
| is_stockflush        | Integer  | 否     | 选择采购入库类型时，是否仅统计冲红 0:否 1:是  |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |


### 出库报表

> [GET]/jasreport_service/stock/out/{pattern}  
> 
#### 修改更新记录

|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名          | 类型      | 必填   | 说明                   |
| ------------ | ------- | ---- | -------------------- |
| agen_id      | String  | 是    | 运营机构                 |
| depo_list    | String  | 否    | 销售仓库id(不选全部)         |
| clas_id      | String  | 否    | 商品类别                 |
| bran_id      | String  | 否    | 商品品牌                 |
| vari_id      | String  | 否    | 商品品种                 |
| begin        | String  | 是    | 开始时间                 |
| end          | String  | 是    | 结束时间                 |
| in_type      | Integer | 是    | 入库类型                 |
| mfr_id       | String  | 否    | 供应商                  |
| in_depo_list | String  | 否    | 入库仓库id               |
| select       | String  | 是    | 供应商0，类别1，品牌2，品种3，细目4 |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |



### 退费报表导出

> [GET]/jasreport_service/sale/return/{pattern} 
> 
#### 修改更新记录

|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名       | 类型     | 必填   | 说明                   |
| --------- | ------ | ---- | -------------------- |
| agen_id   | String | 是    | 运营机构                 |
| depa_list | String | 否    | 销售部门id(不选全部)         |
| begin     | String | 是    | 开始时间                 |
| end       | String | 是    | 结束时间                 |
| select    | String | 是    | 供应商0，类别1，品牌2，品种3，细目4 |



#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |




###  净入库报表导出

> [GET]/jasreport_service/other/net_storage/{pattern} 
> 
|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明         |
| --------- | ------- | ---- | ---------- |
| agen_id   | String  | 是    | 运营机构       |
| depo_list | String  | 否    | 仓库id(不选全部) |
| begin     | String  | 是    | 开始时间       |
| end       | String  | 是    | 结束时间       |
| clas_id   | String  | 否    | 商品类别       |
| bran_id   | String  | 否    | 商品品牌       |
| vari_id   | String  | 否    | 商品品种       |
| select    | Integer | 是    | 分组小计       |


#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |



### 赠送报表导出

> [GET]/jasreport_service/other/gift/{pattern} 
> 
|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名       | 类型     | 必填   | 说明           |
| --------- | ------ | ---- | ------------ |
| agen_id   | String | 是    | 运营机构         |
| depa_list | String | 否    | 销售仓库id(不选全部) |
| begin     | String | 是    | 开始时间         |
| end       | String | 是    | 结束时间         |


#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |


### 商品调价报表导出

> [GET]/jasreport_service/other/adjust/{pattern} 
> 
|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名     | 类型      | 必填   | 说明       |
| ------- | ------- | ---- | -------- |
| agen_id | String  | 是    | 运营机构     |
| begin   | String  | 是    | 开始时间     |
| end     | String  | 是    | 结束时间     |
| type    | Integer | 是    | 0 清单,1汇总 |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |

### 库存批次报表导出

> [GET]/jasreport_service/other/batch_stock/{pattern} 
> 
|  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明         |
| --------- | ------- | ---- | ---------- |
| agen_id   | String  | 是    | 运营机构       |
| depo_list | String  | 否    | 仓库id(不选全部) |
| is_now     | Integer  | 是    | 0实时，1历史       |
| time       | String  | 否    | 时间       |
| clas_id   | String  | 否    | 商品类别       |
| bran_id   | String  | 否    | 商品品牌       |
| vari_id   | String  | 否    | 商品品种       |
| is_depo_group |Integer | 是    | 是否按仓库分组 0:不分组 1:分组          |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |


### 商品折扣报表导出

> [GET]/jasreport_service/other/discount/{pattern} 
> |  对应业务 | 说明 |
|-----------|------|
| V1.3.8 | 修改协议地址 |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明           |
| --------- | ------- | ---- | ------------ |
| agen_id   | String  | 是    | 运营机构         |
| depa_list | String  | 否    | 销售部门id(不选全部) |
| begin     | String  | 是    | 开始时间         |
| end       | String  | 是    | 结束时间         |
| type      | Integer | 是    | 0 明细,1汇总     |

#### 回复报文参数


| 参数名 | 类型 | 必填 | 说明 |
| ------ | ---- | ---- | ---- |
| InputStream     |      |      |      |












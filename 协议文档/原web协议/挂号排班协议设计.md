##排班管理

### 新增排班

> [POST]/schedule_service/sche

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  支持一次排班可添加多个挂号类型|

#### 请求报文参数

| 参数名                  | 类型          | 必填   | 说明               |
| -------------------- | ----------- | ---- | ---------------- |
| sche_date_str        | String      | 是    | 排班日期             |
| sche_depa_id         | String      | 是    | 科室ID             |
| sche_timeframe_list  | IntegerList | 是    | 当班时间段列表          |
| sche_user_id         | String      | 否    | 医生ID   为空的时候表示普通        |
| sche_adderss         | String      | 是    | 候诊地点             |
| sche_more_begin_str  | String      | 否    | 上午开诊时间           |
| sche_more_end_str    | String      | 否    | 上午闭诊时间           |
| sche_afte_begin_str  | String      | 否    | 下午开诊时间           |
| sche_afte_end_str    | String      | 否    | 下午闭诊时间           |
| sche_more_total      | Integer     | 否    | 上午号源总数           |
| sche_afte_total      | Integer     | 否    | 下午号源总数           |
| sche_night_begin_str | String      | 否    | 夜间开诊时间           |
| sche_night_end_str   | String      | 否    | 夜间闭诊时间           |
| sche_night_total     | Integer     | 否    | 夜间号源总数           |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_name         | String     | 是   | 套餐名称     |
| package_type         | Integer     | 是   | 套餐类型 1:挂号 2:套餐       |



#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|      |      |      |      |



### 修改排班

> [POST]/schedule_service/sche/update

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  支持一次排班可添加多个挂号类型|

#### 请求报文参数

| 参数名                  | 类型          | 必填   | 说明               |
| -------------------- | ----------- | ---- | ---------------- |
| sche_id        | Long      | 是      | 排班id                 |
| sche_date_str        | String      | 是    | 排班日期             |
| sche_depa_id         | String      | 是    | 科室ID             |
| sche_timeframe  | Integer | 是    | 当班时间          |
| sche_user_id         | String      | 是    | 医生ID             |
| sche_regis_feeid         | Integer     | 否 | 挂号费ID              |
| sche_adderss         | String      | 是    | 候诊地点             |
| sche_begin_str | String  | 否    | 开诊时间 |
| sche_end_str   | String  | 否    | 闭诊时间 |
| sche_total     | Integer | 否    | 号源总数 |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_name         | String     | 是   | 套餐名称     |


#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|      |      |      |      |


### 获取排班

> [GET]/schedule_service/sche

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  支持一次排班可添加多个挂号类型|


#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| sche_id | String | 是    | id   |

#### 回复报文参数

| 参数名               | 类型      | 必填   | 说明                        |
| ----------------- | ------- | ---- | ------------------------- |
| sche_id           | String  | 是    | id                        |
| sche_date_str     | String  | 是    | 排班日期                      |
| sche_depa_id      | String  | 是    | 科室ID                      |
| sche_depa_name    | String  | 是    | 科室名称                      |
| sche_timeframe    | Integer | 是    | 当班时间段,0:未定义;1:上午;2:下午3:晚上 |
| sche_user_id      | String  | 是    | 医生ID                      |
| sche_user_name    | String  | 是    | 医生名称 医生id为空的时候显示普通        |
| sche_regis_feeid         | Integer     | 是    | 挂号费ID              |
| sche_bookfee      | Integer | 是    | 挂号费                       |
| sche_adderss      | String  | 是    | 候诊地点                      |
| sche_begin_str    | String  | 否    | 开诊时间                      |
| sche_end_str      | String  | 否    | 闭诊时间                      |
| sche_total        | Integer | 否    | 号源总数                      |
| sche_allow_update | Integer | 是    | 是否可修改 0：不可 1：可以       |
| sche_allow_delete | Integer | 是    | 是否可删除 0：不可 1：可以       |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_name         | String     | 是   | 套餐名称     |
| package_del         | Integer     | 是   | 是否已删除停用   0:没有 1:停用     |


### 删除排班

> [DELETE]/schedule_service/sche

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  排班在没有被预约或挂号之前可以删除|


#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| sche_id | String | 是    | id   |

#### 回复报文参数

| 参数名               | 类型      | 必填   | 说明                        |
| ----------------- | ------- | ---- | ------------------------- |
| 无           |   |     |                         |



### 新增排班模板

> [POST]/schedule_service/temp

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  支持一次排班模板可添加多个挂号类型|

#### 请求报文参数

| 参数名                  | 类型          | 必填   | 说明               |
| -------------------- | ----------- | ---- | ---------------- |
| temp_weekday         | Integer     | 是    | 礼拜几              |
| temp_depa_id         | String      | 是    | 科室ID             |
| temp_timeframe_list  | IntegerList | 是    | 当班时间段列表          |
| temp_user_id         | String      | 是    | 医生ID             |
| temp_regis_feeid         | Integer     | 是    | 挂号费ID              |
| temp_adderss         | String      | 是    | 候诊地点             |
| temp_more_begin_str  | String      | 否    | 上午开诊时间           |
| temp_more_end_str    | String      | 否    | 上午闭诊时间           |
| temp_afte_begin_str  | String      | 否    | 下午开诊时间           |
| temp_afte_end_str    | String      | 否    | 下午闭诊时间           |
| temp_more_total      | Integer     | 否    | 上午号源总数           |
| temp_afte_total      | Integer     | 否    | 下午号源总数           |
| temp_night_begin_str | String      | 否    | 夜间开诊时间           |
| temp_night_end_str   | String      | 否    | 夜间闭诊时间           |
| temp_night_total     | Integer     | 否    | 夜间号源总数           |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_name         | String     | 是   | 套餐名称     |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|      |      |      |      |



### 修改排班模板

> [POST]/schedule_service/temp/update

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  支持一次排班模板可添加多个挂号类型|

#### 请求报文参数

| 参数名                  | 类型      | 必填   | 说明                        |
| -------------------- | ------- | ---- | ------------------------- |
| temp_id              | String  | 是    | id                        |
| temp_weekday         | Integer | 是    | 礼拜几                       |
| temp_depa_id         | String  | 是    | 科室ID                      |
| temp_timeframe       | Integer | 是    | 当班时间段,0:未定义;1:上午;2:下午3:晚上 |
| temp_user_id         | String  | 是    | 医生ID                      |
| temp_regis_feeid         | Integer     | 是    | 挂号费ID              |
| temp_adderss         | String  | 是    | 候诊地点                      |
| temp_more_begin_str  | String  | 否    | 上午开诊时间                    |
| temp_more_end_str    | String  | 否    | 上午闭诊时间                    |
| temp_afte_begin_str  | String  | 否    | 下午开诊时间                    |
| temp_afte_end_str    | String  | 否    | 下午闭诊时间                    |
| temp_more_total      | Integer | 否    | 上午号源总数                    |
| temp_afte_total      | Integer | 否    | 下午号源总数                    |
| temp_night_begin_str | String  | 否    | 夜间开诊时间                    |
| temp_night_end_str   | String  | 否    | 夜间闭诊时间                    |
| temp_night_total     | Integer | 否    | 夜间号源总数                    |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_name         | String     | 是   | 套餐名称     |

#### 回复报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|      |      |      |      |


### 删除排班模版 

> [DELETE]/schedule_service/temp

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  |


#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| temp_id | String | 是    | id   |

#### 回复报文参数

| 参数名               | 类型      | 必填   | 说明                        |
| ----------------- | ------- | ---- | ------------------------- |
| 无           |   |     |                         |




### 获取排班模板

> [GET]/schedule_service/temp

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  支持一次排班模板可添加多个挂号类型|

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| temp_id | String | 是    | id   |

#### 回复报文参数

| 参数名            | 类型      | 必填   | 说明                        |
| -------------- | ------- | ---- | ------------------------- |
| temp_id        | String  | 是    | id                        |
| temp_weekday   | Integer | 是    | 礼拜几                       |
| temp_depa_id   | String  | 是    | 科室ID                      |
| temp_depa_name | String  | 是    | 科室名称                      |
| temp_timeframe | Integer | 是    | 当班时间段,0:未定义;1:上午;2:下午3:晚上 |
| temp_user_id   | String  | 否    | 医生ID                      |
| temp_user_name | String  | 是    | 医生名称 医生id为空的时候显示普通        |
| temp_regis_feeid         | Integer     | 是    | 挂号费ID              |
| temp_bookfee      | Integer | 是    | 挂号费                       |
| temp_adderss   | String  | 是    | 候诊地点                      |
| temp_begin_str | String  | 否    | 开诊时间                      |
| temp_end_str   | String  | 否    | 闭诊时间                      |
| temp_total     | Integer | 否    | 号源总数                      |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_name         | String     | 是   | 套餐名称     |
| package_del         | Integer     | 是   | 是否已删除停用   0:没有 1:停用     |




##挂号



### 根据科室查询排班

> [GET]/schedule_service/query_by_depa

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  排班列表增加|

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| depa_id   | String  | 是    | 科室id        |
| page_size | Integer | 否    | 每页条数 空表示10条 |
| page_num  | Integer | 否    | 第几页 空表示第1页  |

#### 回复报文参数

| 参数名       | 类型         | 必填   | 说明    |
| --------- | ---------- | ---- | ----- |
| page_num  | Integer    | 是    | 当前页   |
| page_size | Integer    | 是    | 每页的数量 |
| total     | Integer    | 是    | 总记录数  |
| pages     | Integer    | 是    | 总页数   |
| list      | ObjectList | 否    | 医生列表  |

医生列表说明

| 参数名            | 类型         | 必填   | 说明   |
| -------------- | ---------- | ---- | ---- |
| sche_user_id   | String     | 否    | 医生id |
| sche_user_name | String     | 是    | 医生姓名 |
| list           | ObjectList | 否    | 排班列表 |

排班列表说明

| 参数名            | 类型      | 必填   | 说明                   |
| -------------- | ------- | ---- | -------------------- |
| sche_id        | String  | 是    | 排班id                 |
| sche_depa_id   | String  | 是    | 科室id                 |
| sche_depa_name | String  | 是    | 科室名称                 |
| sche_user_id   | String  | 否    | 医生id                 |
| sche_user_name | String  | 是    | 医生姓名                 |
| sche_regis_feeid         | Integer     | 是    | 挂号费ID              |
| sche_bookfee   | Double  | 是    | 挂号费,单位分              |
| is_full        | Integer | 是    | 是否满号 0 否 1是          |
| sche_timeframe | Integer | 是    | 当班时间段;1:上午;2:下午;3:晚上 |
| date_type      | Integer | 是    | 日期类型 -1 以前  1未来      |
| sche_treastop  | Integer | 是    | 停诊标志,0:未停诊;1:已停诊     |
| package_list     | ObjectList     | 否    | 套餐列表           |


套餐列表说明


|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| package_id          | String     | 是   | 套餐ID     |
| package_type          | String     | 是   | 套餐类型 1挂号2套餐     |
| package_name         | String     | 是   | 套餐名称     |
| package_price         | Double     | 是   | 套餐费用     |
| package_del         | Integer     | 是   | 是否已删除停用   0:没有 1:停用     |


这里的套餐时广义的套餐，包括挂号和套餐


### 挂号

> [POST]/book_service/book

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  增加可选择套餐|

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| sche_id | String | 是    | 排班id |
| package_id          | String     | 是   | 套餐ID     |
| package_type          | String     | 是   | 套餐类型 1挂号2套餐     |
| pati_id | String | 是    | 患者id |



#### 回复报文参数

| 参数名     | 类型      | 必填   | 说明          |
| ------- | ------- | ---- | ----------- |
| visi_id | String  | 是    | 门诊ID        |
| is_full | Integer | 是    | 是否满号 0 否 1是 |


### 挂号统计

> [GET]/schedule_service/query_book_schedule

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  挂号类型有变化|

#### 请求报文参数

| 参数名            | 类型      | 必填   | 说明                    |
| -------------- | ------- | ---- | --------------------- |
| sche_date      | Date    | 是    | 排班日期                  |
| sche_timeframe | Integer | 否    | 值班类型  1:上午;2:下午 空代表全天 |
| fee_id  | String | 否    | 挂号ID  为套餐ID或挂号费ID      |
| fee_type  | Integer | 否    | 挂号类型  1挂号2套餐      |
| depa_id        | String  | 否    | 科室id                  |
| doctor_id      | String  | 否    | 医生id                  |
| page_size      | Integer | 否    | 每页条数 空表示10条           |
| page_num       | Integer | 否    | 第几页 空表示第1页            |

#### 回复报文参数

| 参数名       | 类型         | 必填   | 说明     |
| --------- | ---------- | ---- | ------ |
| page_num  | Integer    | 是    | 当前页    |
| page_size | Integer    | 是    | 每页的数量  |
| total     | Integer    | 是    | 总记录数   |
| pages     | Integer    | 是    | 总页数    |
| list      | ObjectList | 是    | 排班预约列表 |

排班预约列表说明

| 参数名             | 类型      | 必填   | 说明                  |
| --------------- | ------- | ---- | ------------------- |
| sche_id         | String  | 是    | 排班id                |
| sche_depa_name  | String  | 是    | 科室名称                |
| sche_timeframe  | Integer | 是    | 值班类型 1:上午;2:下午      |
| sche_booktype_str  | String | 否    | 挂号类型       |
| sche_user_name  | String  | 是    | 医生姓名 医生id为空则显示普通    |
| total           | Integer | 是    | 号源总数                |
| resid           | Integer | 是    | 号源剩余数               |
| book_num        | Integer | 是    | 挂号数                 |
| bookappo_num    | Integer | 是    | 预约数                 |
| sche_treastop   | Integer | 是    | 停诊标志,0:未停诊;1:已停诊    |
| sche_stopnotify | Integer | 是    | 是否已通知  0:未通知;1:已通知  |
| sche_stopreason | String  | 是    | 停诊原因                |
| date_type       | Integer | 是    | 日期类型 -1 以前 0 今天 1未来 |




### 查询排班挂号、预约患者列表

> [GET]/schedule_service/sche/pati/list

####修改更新记录

|  对应版本 | 说明 |
|-----------|------|
| V1.2.3.2 | 修改  增加挂号类型|

#### 请求报文参数

| 参数名     | 类型      | 必填   | 说明             |
| ------- | ------- | ---- | -------------- |
| sche_id | String  | 是    | 排班id           |
| type    | Integer | 是    | 查询类型 1：挂号 2：预约 |

#### 回复报文参数ObjectList

| 参数名            | 类型         | 必填   | 说明   |
| -------------- | ---------- | ---- | ---- |
| sche_depa_name | String     | 是    | 科室名称 |
| sche_date_str  | String     | 是    | 日期   |
| pati_total     | Integer    | 是    | 人数   |
| list           | ObjectList | 是    | 患者列表 |


患者列表说明
| 参数名            | 类型     | 必填   | 说明                |
| -------------- | ------ | ---- | ----------------- |
| pati_id        | String | 是    | 患者id              |
| pati_name      | String | 是    | 姓名                |
| pati_gender    | String | 是    | 性别代码 0 未知 1男  2 女 |
| pati_phone     | String | 是    | 手机号码              |
| pati_id_number | String | 是    | 证件号码              |
| serialno       | String | 是    | 就诊序号              |
| sche_booktype_str  | String | 是    | 挂号类型       |




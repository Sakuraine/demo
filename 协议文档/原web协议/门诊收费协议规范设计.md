#门诊收费协议规范设计


##公用

###拼音码获取
```http
  [GET]/charge_service/common/py_code
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名  | 类型     | 必填   | 说明     |
| ---- | ------ | ---- | ------ |
| word | String | 否    | 要转换的词语 |

#### 回复报文参数 

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| py_code | String | 是    | 拼音码  |


###五笔码获取
```http
  [GET]/charge_service/common/wb_code
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名  | 类型     | 必填   | 说明     |
| ---- | ------ | ---- | ------ |
| word | String | 否    | 要转换的词语 |

#### 回复报文参数 

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| wb_code | String | 是    | 五笔码  |



###检查费选项列表
```http
  [GET]/charge_service/common/examination_options
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名  | 类型     | 必填   | 说明       |
| ---- | ------ | ---- | -------- |
| key  | String | 否    | 费用名称或拼音码 |

#### 回复报文参数 

| 参数名       | 类型     | 必填   | 说明   |
| --------- | ------ | ---- | ---- |
| fee_id    | String | 是    | 费用ID |
| fee_name  | String | 是    | 费用名称 |
| fee_price | Double | 是    | 费用价格 |



###挂号费选项列表

```http
  [GET]/charge_service/common/registration_options
```

#### 请求报文参数

##### RequestBody

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| key   | String    | 否   | 费用名称或拼音码 |

#### 回复报文参数 

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| fee_id          | String     | 是   | 费用ID     |
| fee_name         | String     | 是   | 费用名称     |
| fee_price | Double | 是    | 费用价格 |


###套餐挂号混合选项列表

```http
  [GET]/charge_service/common/package_registration_options
```

挂号和套餐混合的列表，在增加套餐时使用

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |


#### 请求报文参数

##### RequestBody

| 参数名  | 类型     | 必填   | 说明       |
| ---- | ------ | ---- | -------- |
| key  | String | 否    | 费用名称或拼音码 |

#### 回复报文参数 

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| fee_id    | String  | 是    | 费用ID        |
| fee_name  | String  | 是    | 费用名称        |
| fee_type  | Integer | 是    | 费用类型 1挂号2套餐 |
| fee_price | Double  | 是    | 费用价格        |



##检查费


###检查费列表

```http
  [GET]/charge_service/examination_list/ 
```


####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| key       | String  | 否    | 费用名称或拼音码    |
| page_size | Integer | 否    | 每页条数 空表示10条 |
| page_num  | Integer | 否    | 第几页 空表示第1页  |


#### 回复报文参数 

| 参数名       | 类型         | 必填   | 说明    |
| --------- | ---------- | ---- | ----- |
| page_num  | Integer    | 是    | 当前页   |
| page_size | Integer    | 是    | 每页的数量 |
| total     | Integer    | 是    | 总记录数  |
| pages     | Integer    | 是    | 总页数   |
| list      | ObjectList | 是    | 检查费列表 |


检查费列表

| 参数名             | 类型     | 必填   | 说明          |
| --------------- | ------ | ---- | ----------- |
| fee_id     | String | 是    | 费用ID        |
| fee_name   | String | 是    | 费用名称        |
| fee_py     | String | 是    | 费用名称简拼      |
| fee_price  | Double | 是    | 费用价格        |
| fee_enable | Integer | 是    | 是否有效 0停用1有效 |



###检查费获取

```http
  [GET]/charge_service/examination/{fee_id} 
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |
| V1.3.4 | 修改 增加执行科室   |

#### 请求报文参数

##### PathVariable

| 参数名    | 类型     | 必填   | 说明   |
| ------ | ------ | ---- | ---- |
| fee_id | String | 是    | 费用ID |


#### 回复报文参数 

| 参数名             | 类型     | 必填   | 说明          |
| --------------- | ------ | ---- | ----------- |
| fee_id     | String | 是    | 费用ID        |
| fee_name   | String | 是    | 费用名称        |
| fee_py     | String | 是    | 费用名称简拼      |
| fee_price  | Double | 是    | 费用价格        |
| fee_charge | String | 是    | 收费类别ID      |
| fee_enable | Integer | 是    | 是否有效 0停用1有效 |
| exe_deptid | String | 是    | 执行科室ID |





###检查费新增/修改

```http
  [POST]/charge_service/examination
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |
| V1.3.4 | 修改 增加执行科室   |

#### 请求报文参数


##### RequestBody

| 参数名             | 类型     | 必填   | 说明                   |
| --------------- | ------ | ---- | -------------------- |
| fee_id     | String | 是    | 费用ID   有该值为修改，无该值为新增 |
| fee_name   | String | 是    | 费用名称                 |
| fee_py     | String | 是    | 费用名称简拼               |
| fee_price  | Double | 是    | 费用价格                 |
| fee_charge | String | 是    | 收费类别ID               |
| fee_enable | Integer | 是    | 是否有效 0停用1有效          |
| exe_deptid | String | 是    | 执行科室ID |



#### 回复报文参数 

| 参数名    | 类型     | 必填   | 说明   |
| ------ | ------ | ---- | ---- |
| fee_id | String | 是    | 费用ID |



###检查费删除

```http
  [DELETE]/charge_service/examination/{fee_id} 
```

被使用不能删除

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### PathVariable

| 参数名         | 类型     | 必填   | 说明                   |
| ----------- | ------ | ---- | -------------------- |
| fee_id | String | 是    | 费用ID   有该值为修改，无该值为新增 |




#### 回复报文参数 

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 无    |      |      |      |



## 挂号费


###挂号费列表

```http
  [GET]/charge_service/registration_list/ 
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| key       | String  | 否    | 费用名称或拼音码    |
| page_size | Integer | 否    | 每页条数 空表示10条 |
| page_num  | Integer | 否    | 第几页 空表示第1页  |


#### 回复报文参数 

| 参数名       | 类型         | 必填   | 说明    |
| --------- | ---------- | ---- | ----- |
| page_num  | Integer    | 是    | 当前页   |
| page_size | Integer    | 是    | 每页的数量 |
| total     | Integer    | 是    | 总记录数  |
| pages     | Integer    | 是    | 总页数   |
| list      | ObjectList | 是    | 挂号费列表 |


挂号费列表

| 参数名        | 类型      | 必填   | 说明          |
| ---------- | ------- | ---- | ----------- |
| fee_id     | String  | 是    | 费用ID        |
| fee_name   | String  | 是    | 费用名称        |
| fee_py     | String  | 是    | 费用名称简拼      |
| fee_price  | Double  | 是    | 费用价格        |
| fee_enable | Integer | 是    | 是否有效 0停用1有效 |



###挂号费获取

```http
  [GET]/charge_service/registration/{fee_id} 
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### PathVariable

| 参数名    | 类型     | 必填   | 说明   |
| ------ | ------ | ---- | ---- |
| fee_id | String | 是    | 费用ID |


#### 回复报文参数 

| 参数名        | 类型     | 必填   | 说明          |
| ---------- | ------ | ---- | ----------- |
| fee_id     | String | 是    | 费用ID        |
| fee_name   | String | 是    | 费用名称        |
| fee_py     | String | 是    | 费用名称简拼      |
| fee_price  | Double | 是    | 费用价格        |
| fee_charge | String | 是    | 收费类别ID      |
| fee_enable | Integer | 是    | 是否有效 0停用1有效 |





###挂号费新增/修改

```http
  [POST]/charge_service/registration/
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名        | 类型     | 必填   | 说明                   |
| ---------- | ------ | ---- | -------------------- |
| fee_id     | String | 是    | 费用ID   有该值为修改，无该值为新增 |
| fee_name   | String | 是    | 费用名称                 |
| fee_py     | String | 是    | 费用名称简拼               |
| fee_price  | Double | 是    | 费用价格                 |
| fee_charge | String | 是    | 收费类别ID               |
| fee_enable | Integer | 是    | 是否有效 0停用1有效          |



#### 回复报文参数 

| 参数名    | 类型     | 必填   | 说明   |
| ------ | ------ | ---- | ---- |
| fee_id | String | 是    | 费用ID |



###挂号费删除

```http
  [DELETE]/charge_service/registration/{fee_id} 
```

被使用不能删除

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### PathVariable

| 参数名    | 类型     | 必填   | 说明                   |
| ------ | ------ | ---- | -------------------- |
| fee_id | String | 是    | 费用ID   有该值为修改，无该值为新增 |



#### 回复报文参数 

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 无    |      |      |      |




##挂号套餐


###挂号套餐费列表

```http
  [GET]/charge_service/registration_package_list/ 
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### RequestBody

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| key       | String  | 否    | 套餐名称或拼音码    |
| page_size | Integer | 否    | 每页条数 空表示10条 |
| page_num  | Integer | 否    | 第几页 空表示第1页  |


#### 回复报文参数 

| 参数名       | 类型         | 必填   | 说明     |
| --------- | ---------- | ---- | ------ |
| page_num  | Integer    | 是    | 当前页    |
| page_size | Integer    | 是    | 每页的数量  |
| total     | Integer    | 是    | 总记录数   |
| pages     | Integer    | 是    | 总页数    |
| list      | ObjectList | 是    | 挂号套餐列表 |


挂号套餐列表

| 参数名                | 类型     | 必填   | 说明          |
| ------------------ | ------ | ---- | ----------- |
| package_id         | String | 是    | 套餐ID        |
| package_name       | String | 是    | 套餐名称        |
| package_py         | String | 是    | 套餐简拼        |
| package_price      | Double | 是    | 套餐价格        |
| package_real_price | Double | 是    | 执行价格        |
| package_enable     | Integer | 是    | 是否有效 0停用1有效 |



###挂号套餐获取

```http
  [GET]/charge_service/registration_package/{package_id} 
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### PathVariable

| 参数名        | 类型     | 必填   | 说明   |
| ---------- | ------ | ---- | ---- |
| package_id | String | 是    | 套餐ID |


#### 回复报文参数 

| 参数名                 | 类型         | 必填   | 说明          |
| ------------------- | ---------- | ---- | ----------- |
| package_id          | String     | 是    | 套餐ID        |
| package_name        | String     | 是    | 套餐名称        |
| package_py          | String     | 是    | 套餐简拼        |
| package_price       | Double     | 是    | 套餐价格        |
| package_real_price  | Double     | 是    | 执行价格        |
| package_charge      | String     | 是    | 收费类别ID      |
| package_charge_name     | String     | 是    | 收费类别名称      |
| package_regis_feeid | String     | 是是    | 挂号费ID       |
| package_regis_fee_name | String     | 是    | 挂号费名称       |
| package_regis_fee_price | String     | 是    | 挂号费价格       |
| package_enable      | Integer     | 是    | 是否有效 0停用1有效 |
| list                | ObjectList | 是    | 检查费列表       |


检查费列表说明

| 参数名            | 类型      | 必填   | 说明   |
| -------------- | ------- | ---- | ---- |
| fee_id         | String  | 是    | 费用ID |
| fee_name       | String  | 是    | 费用名称 |
| fee_price      | Double  | 是    | 费用价格 |
| fee_real_price | Double  | 是    | 执行价格 |
| fee_num        | Integer | 是    | 数量   |




###挂号套餐新增/修改

```http
  [POST]/charge_service/registration_package/
```

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数



##### RequestBody

| 参数名                 | 类型         | 必填   | 说明                 |
| ------------------- | ---------- | ---- | ------------------ |
| package_id          | String     | 否    | 套餐ID 有该值为修改，无该值为新增 |
| package_name        | String     | 是    | 套餐名称               |
| package_py          | String     | 是    | 套餐简拼               |
| package_price       | Double     | 是    | 套餐价格               |
| package_rela_price  | Double     | 是    | 执行价格               |
| package_charge      | String     | 是    | 收费类别ID             |
| package_regis_feeid | String     | 否    | 挂号费ID              |
| package_enable      | Integer     | 是    | 是否有效 0停用1有效        |
| list                | ObjectList | 是    | 检查费列表              |



检查费列表说明

| 参数名       | 类型      | 必填   | 说明   |
| --------- | ------- | ---- | ---- |
| fee_id    | String  | 是    | 费用ID |
| fee_num   | Integer | 是    | 数量   |




#### 回复报文参数 

| 参数名        | 类型     | 必填   | 说明   |
| ---------- | ------ | ---- | ---- |
| package_id | String | 是    | 套餐ID |




###挂号套餐删除

```http
  [DELETE]/charge_service/registration_package/{package_id} 
```


####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.2.3.2 | 新增   |

#### 请求报文参数

##### PathVariable

| 参数名        | 类型     | 必填   | 说明   |
| ---------- | ------ | ---- | ---- |
| package_id | String | 是    | 套餐ID |




#### 回复报文参数 

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| 无    |      |      |      |


##门诊收费

### 待收费订单列表

>[GET]/charge_service/to_pay_trade/list

####修改更新记录

| 对应版本     | 说明   |
| -------- | ---- |
| V1.3.1.1 | 修改  增加对其他收费的支持   |

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| key       | String  | 否    | 患者姓名或者手机号   |
| page_size | Integer | 否    | 每页条数 空表示10条 |
| page_num  | Integer | 否    | 第几页 空表示第1页  |

#### 回复报文参数Object

| 参数名       | 类型         | 必填   | 说明      |
| --------- | ---------- | ---- | ------- |
| page_num  | Integer    | 是    | 当前页     |
| page_size | Integer    | 是    | 每页的数量   |
| total     | Integer    | 是    | 总记录数    |
| pages     | Integer    | 是    | 总页数     |
| list      | ObjectList | 是    | 待收费订单列表 |

待收费订单列表

| 参数名         | 类型      | 必填   | 说明                |
| ----------- | ------- | ---- | ----------------- |
| pati_id     | String  | 是    | 患者ID              |
| pati_name   | String  | 是    | 患者姓名              |
| pati_gender | Integer | 是    | 性别代码 0 未知 1男  2 女 |
| pati_age    | String  | 是    | 年龄                |
| pati_phone  | String  | 是    | 手机号码              |
| price       | Double  | 是    | 金额                |

### 待收费订单详情

>[GET]/charge_service/to_pay_trade

####修改更新记录

| 对应版本     | 说明          |
| -------- | ----------- |
| V1.2.3.2 | 修改  收费项目有修改 |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| pati_id | String | 是    | 患者ID |

#### 回复报文参数Object

| 参数名         | 类型         | 必填   | 说明                    |
| ----------- | ---------- | ---- | --------------------- |
| pati_id     | String     | 是    | 患者ID                  |
| pati_name   | String     | 是    | 患者姓名                  |
| pati_gender | Integer    | 是    | 性别代码 0 未知 1男  2 女     |
| pati_age    | String     | 是    | 年龄                    |
| pati_phone  | String     | 是    | 手机号码                  |
| auto_print  | Integer    | 是    | 是否打自动印收费单， 1 打印，0 不打印 |
| list        | ObjectList | 是    | 收费项目类别列表              |

订单列表

| 参数名              | 类型         | 必填   | 说明     |
| ---------------- | ---------- | ---- | ------ |
| trad_id          | String     | 是    | 收费单ID  |
| type_name        | String     | 是    | 收费类别名称 |
| item_promote     | String     | 是    | 优惠名称   |
| item_total_price | Double     | 是    | 小计     |
| bill_maker       | String     | 是    | 开单人    |
| list             | ObjectList | 是    | 收费项目列表 |

收费项目列表

| 参数名              | 类型      | 必填   | 说明            |
| ---------------- | ------- | ---- | ------------- |
| item_id          | String  | 是    | 收费项目ID        |
| item_name        | String  | 是    | 收费项目名称        |
| item_info        | String  | 是    | 项目信息，包括批号和有效期 |
| item_unit        | Integer | 是    | 单位            |
| item_price       | Double  | 是    | 单价            |
| item_count       | Integer | 是    | 数量            |
| item_promote     | String  | 是    | 优惠名称          |
| item_total_price | Double  | 是    | 小计            |


### 待退费订单列表

>[GET]/charge_service/to_refund/list

#### 请求报文参数

| 参数名       | 类型      | 必填   | 说明          |
| --------- | ------- | ---- | ----------- |
| key       | String  | 否    | 患者姓名或者手机号   |
| page_size | Integer | 否    | 每页条数 空表示10条 |
| page_num  | Integer | 否    | 第几页 空表示第1页  |

#### 回复报文参数Object

| 参数名       | 类型         | 必填   | 说明      |
| --------- | ---------- | ---- | ------- |
| page_num  | Integer    | 是    | 当前页     |
| page_size | Integer    | 是    | 每页的数量   |
| total     | Integer    | 是    | 总记录数    |
| pages     | Integer    | 是    | 总页数     |
| list      | ObjectList | 是    | 待退费订单列表 |

待退费订单列表

| 参数名         | 类型      | 必填   | 说明                |
| ----------- | ------- | ---- | ----------------- |
| pati_id     | String  | 是    | 患者ID              |
| pati_name   | String  | 是    | 患者姓名              |
| pati_gender | Integer | 是    | 性别代码 0 未知 1男  2 女 |
| pati_age    | String  | 是    | 年龄                |
| pati_phone  | String  | 是    | 手机号码              |
| price       | Double  | 是    | 金额                |

### 待退费订单详情

>[GET]/charge_service/to_refund

####修改更新记录

| 对应版本     | 说明          |
| -------- | ----------- |
| V1.2.3.2 | 修改  收费项目有修改 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明   |
| ------- | ------ | ---- | ---- |
| pati_id | String | 是    | 患者ID |

#### 回复报文参数Object

| 参数名         | 类型         | 必填   | 说明                    |
| ----------- | ---------- | ---- | --------------------- |
| pati_id     | String     | 是    | 患者ID                  |
| pati_name   | String     | 是    | 患者姓名                  |
| pati_gender | Integer    | 是    | 性别代码 0 未知 1男  2 女     |
| pati_age    | String     | 是    | 年龄                    |
| pati_phone  | String     | 是    | 手机号码                  |
| refund_info | String     | 是    | 退费渠道详情                |
| auto_print  | Integer    | 是    | 是否打自动印收费单， 1 打印，0 不打印 |
| list        | ObjectList | 是    | 收费项目类别列表              |

收费项目类别列表

| 参数名              | 类型         | 必填   | 说明     |
| ---------------- | ---------- | ---- | ------ |
| trad_id          | String     | 是    | 订单ID   |
| type_name        | String     | 是    | 收费类别名称 |
| item_promote     | String     | 是    | 优惠名称   |
| item_total_price | Double     | 是    | 小计     |
| bill_maker       | String     | 是    | 开单人    |
| list             | ObjectList | 是    | 收费项目列表 |

收费项目列表

| 参数名              | 类型      | 必填   | 说明            |
| ---------------- | ------- | ---- | ------------- |
| item_id          | String  | 是    | 收费项目ID        |
| item_name        | String  | 是    | 收费项目名称        |
| item_info        | String  | 是    | 项目信息，包括批号和有效期 |
| item_unit        | Integer | 是    | 单位            |
| item_price       | Double  | 是    | 单价            |
| item_count       | Integer | 是    | 数量            |
| item_promote     | String  | 是    | 优惠名称          |
| item_total_price | Double  | 是    | 小计            |


### 当天已收费订单详情

>[GET]/charge_service/today_payed

####修改更新记录

| 对应版本     | 说明          |
| -------- | ----------- |
| V1.3.4 | 修改  增加检查单支持 |


#### 请求报文参数

| 参数名  |  类型  | 必填 |  说明  |
|---------|--------|------|--------|
| char_id | String | 是   | 订单ID |

#### 回复报文参数Object

|   参数名    |    类型    | 必填 |                    说明                   |
|-------------|------------|------|-------------------------------------------|
| char_id     | String     | 是   | 订单ID                                    |
| char_no     | String     | 是   | 收费单号                                  |
| char_time   | DateTime   | 是   | 收费时间                                  |
| char_user   | String     | 是   | 收费员姓名                                |
| char_source | Integer    | 是   | 收费来源，0-未知;1-收费处;2-挂号处;9-线下 |
| char_amount | Double     | 是   | 收费金额                                  |
| pay_channel | Integer    | 是   | 支付方式                                  |
| pati_id     | String     | 是   | 患者ID                                    |
| pati_name   | String     | 是   | 患者姓名                                  |
| pati_gender | Integer    | 是   | 性别代码 0 未知 1男  2 女                 |
| pati_age    | String     | 是   | 年龄                                      |
| pati_phone  | String     | 是   | 手机号码                                  |
| list        | ObjectList | 是   | 收费项目类别列表                          |

收费项目类别列表

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| type_name        | String     | 是   | 收费类别名称 |
| item_promote     | String     | 是   | 优惠名称     |
| item_total_price | Double     | 是   | 小计         |
| bill_maker       | String     | 是   | 开单人       |
| list             | ObjectList | 是   | 收费项目列表 |

收费项目列表

|      参数名      |   类型  | 必填 |            说明            |
|------------------|---------|------|----------------------------|
| item_id          | String  | 是   | 收费项目ID                 |
| item_name        | String  | 是   | 收费项目名称               |
| item_info        | String  | 是   | 项目信息，包括批号和有效期 |
| item_unit        | Integer | 是   | 单位                       |
| item_price       | Double  | 是   | 单价                       |
| item_count       | Integer | 是   | 数量                       |
| item_promote     | String  | 是   | 优惠名称                   |
| item_total_price | Double  | 是   | 小计                       |
| bill_maker       | String  | 是   | 开单人                     |


### 当天已退费订单详情

>[GET]/charge_service/today_refund

####修改更新记录

| 对应版本     | 说明          |
| -------- | ----------- |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名  |  类型  | 必填 |  说明  |
|---------|--------|------|--------|
| char_id | String | 是   | 订单ID |

#### 回复报文参数Object

|   参数名    |    类型    | 必填 |            说明           |
|-------------|------------|------|---------------------------|
| char_id     | String     | 是   | 订单ID                    |
| char_no     | String     | 是   | 退费单号                  |
| char_time   | DateTime   | 是   | 退费时间                  |
| char_user   | String     | 是   | 退费员姓名                |
| char_amount | Double     | 是   | 退费金额                  |
| pay_channel | Integer    | 是   | 支付方式                  |
| pati_id     | String     | 是   | 患者ID                    |
| pati_name   | String     | 是   | 患者姓名                  |
| pati_gender | Integer    | 是   | 性别代码 0 未知 1男  2 女 |
| pati_age    | String     | 是   | 年龄                      |
| pati_phone  | String     | 是   | 手机号码                  |
| list        | ObjectList | 是   | 收费项目类别列表          |

收费项目类别列表

|      参数名      |    类型    | 必填 |     说明     |
|------------------|------------|------|--------------|
| type_name        | String     | 是   | 收费类别名称 |
| item_promote     | String     | 是   | 优惠名称     |
| item_total_price | Double     | 是   | 小计         |
| bill_maker       | String     | 是   | 开单人       |
| list             | ObjectList | 是   | 收费项目列表 |

收费项目列表

|      参数名      |   类型  | 必填 |            说明            |
|------------------|---------|------|----------------------------|
| item_id          | String  | 是   | 收费项目ID                 |
| item_name        | String  | 是   | 收费项目名称               |
| item_info        | String  | 是   | 项目信息，包括批号和有效期 |
| item_unit        | Integer | 是   | 单位                       |
| item_price       | Double  | 是   | 单价                       |
| item_count       | Integer | 是   | 数量                       |
| item_promote     | String  | 是   | 优惠名称                   |
| item_total_price | Double  | 是   | 小计                       |
| bill_maker       | String  | 是   | 开单人                     |



##统计



### 收费明细列表

```http
  [GET]/charge_service/statistics/particulars_list 
```

####修改更新记录

| 对应版本   | 说明   |
| ------ | ---- |
| V1.2.2 | 新增   |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名            | 类型      | 必填   | 说明                                   |
| -------------- | ------- | ---- | ------------------------------------ |
| account_id     | String  | 是    | 收费账户id                               |
| start_date     | String  | 是    | 开始日期                                 |
| end_date       | String  | 是    | 结束日期                                 |
| char_user      | int     | 否    | 收\退费人 不传是全部                          |
| char_source    | int     | 否    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售)           |
| accurate_query | int     | 是    | 精确查询模式：0:无精确 1:患者姓名 2:患者手机号码 3：单号    |
| key            | String  | 否    | 根据精确查询模式，代表不同含义 1:患者姓名 2:患者手机号码 3：单号 |
| pay_or_return  | String  | 是    | 收费或退费 0收费1退费                         |
| page_size      | Integer | 否    | 每页条数 空表示10条                          |
| page_num       | Integer | 否    | 第几页 空表示第1页                           |



#### 回复报文参数 

| 参数名           | 类型         | 必填   | 说明        |
| ------------- | ---------- | ---- | --------- |
| amount        | Double     | 是    | 费用总计      |
| cash_amount   | Double     | 是    | 现金支付总计    |
| bank_amount   | Double     | 是    | 银行卡支付总计   |
| alipay_amount | Double     | 是    | 支付宝支付总计   |
| wechat_amount | Double     | 是    | 微信支付总计    |
| page_num      | Integer    | 是    | 当前页       |
| page_size     | Integer    | 是    | 每页的数量     |
| total         | Integer    | 是    | 总记录数      |
| pages         | Integer    | 是    | 总页数       |
| list          | ObjectList | 是    | 收费或退费明细列表 |


收费明细列表

| 参数名          | 类型      | 必填   | 说明                                       |
| ------------ | ------- | ---- | ---------------------------------------- |
| char_id      | String  | 是    | 结算单ID                                    |
| pay_time     | String  | 是    | 时间                                       |
| pati_name    | String  | 是    | 患者姓名                                     |
| price        | Double  | 是    | 费用总额                                     |
| cash_price   | Double  | 是    | 现金支付总计                                   |
| bank_price   | Double  | 是    | 银行卡支付总计                                  |
| alipay_price | Double  | 是    | 支付宝支付总计                                  |
| wechat_price | Double  | 是    | 微信支付总计                                   |
| pay_channel  | Integer | 是    | 支付方式  1-现金;5-支付宝扫手机码支付;7-银行卡(现版本为记账) 8-微信扫手机码支付 |
| char_no      | String  | 是    | 单号                                       |
| char_source  | String  | 是    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售)               |
| char_user    | String  | 是    | 收/退费员                                    |




### 收费明细列表导出

```http
  [GET]/charge_service/statistics/particulars_list/xls
```

####修改更新记录

| 对应版本            | 说明         |
| --------------- | ---------- |
| hotfix/V1.2.3.1 | 新增  新增导出功能 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名            | 类型     | 必填   | 说明                                   |
| -------------- | ------ | ---- | ------------------------------------ |
| account_id     | String | 是    | 收费账户id                               |
| start_date     | String | 是    | 开始日期                                 |
| end_date       | String | 是    | 结束日期                                 |
| char_user      | int    | 否    | 收\退费人 不传是全部                          |
| char_source    | int    | 否    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售)           |
| accurate_query | int    | 是    | 精确查询模式：0:无精确 1:患者姓名 2:患者手机号码 3：单号    |
| key            | String | 否    | 根据精确查询模式，代表不同含义 1:患者姓名 2:患者手机号码 3：单号 |
| pay_or_return  | String | 是    | 收费或退费 0收费1退费                         |




#### 回复报文参数 

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| xls文件流 |      |      |      |




### 收/退费详细

```http
 [GET]/charge_service/statistics/particulars/pay_detail
```
####修改更新记录

| 对应业务   | 说明   |
| ------ | ---- |
| V1.2.2 | 新增   |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名     | 类型     | 必填   | 说明    |
| ------- | ------ | ---- | ----- |
| char_id | String | 是    | 结算单ID |


#### 回复报文参数 Object

| 参数名                | 类型         | 必填   | 说明                        |
| ------------------ | ---------- | ---- | ------------------------- |
| char_id            | String     | 是    | 结算单ID                     |
| char_no            | String     | 是    | 收费单号                      |
| char_time          | String     | 是    | 收费时间                      |
| char_user          | String     | 是    | 收费员姓名                     |
| char_source        | Integer    | 是    | 收费来源，1-挂号处理;2-门诊收费;3-视光销售 |
| char_buyer_account | String     | 否    | 买家第三方渠道账号                 |
| trad_basetype      | Integer    | 是    | 收费基本类型,0-收费;1-退费          |
| char_amount        | Double     | 是    | 收费金额                      |
| pay_channel        | Integer    | 是    | 支付方式                      |
| pati_id            | String     | 是    | 患者ID                      |
| pati_name          | String     | 是    | 患者姓名                      |
| pati_gender        | Integer    | 是    | 性别代码 0 未知 1男  2 女         |
| pati_age           | String     | 是    | 年龄                        |
| pati_phone         | String     | 是    | 手机号码                      |
| list               | ObjectList | 是    | 收费项目类别列表                  |



收费项目类别列表

| 参数名              | 类型         | 必填   | 说明     |
| ---------------- | ---------- | ---- | ------ |
| type_name        | String     | 是    | 收费类别名称 |
| item_promote     | String     | 是    | 优惠名称   |
| item_total_price | Double     | 是    | 小计     |
| bill_maker       | String     | 是    | 开单人    |
| list             | ObjectList | 是    | 收费项目列表 |

收费项目列表

| 参数名              | 类型      | 必填   | 说明            |
| ---------------- | ------- | ---- | ------------- |
| item_id          | String  | 是    | 收费项目ID        |
| item_name        | String  | 是    | 收费项目名称        |
| item_info        | String  | 是    | 项目信息，包括批号和有效期 |
| item_unit        | Integer | 是    | 单位            |
| item_price       | Double  | 是    | 单价            |
| item_count       | Integer | 是    | 数量            |
| item_promote     | String  | 是    | 优惠名称          |
| item_total_price | Double  | 是    | 小计            |



### 收费项目统计

```http
 [GET]/charge_service/statistics/item
```
####修改更新记录

| 对应业务   | 说明   |
| ------ | ---- |
| V1.2.2 | 新增   |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名            | 类型      | 必填   | 说明                                   |
| -------------- | ------- | ---- | ------------------------------------ |
| account_id     | String  | 是    | 收费账户id                               |
| start_date     | String  | 是    | 开始日期                                 |
| end_date       | String  | 是    | 结束日期                                 |
| type_id        | String  | 否    | 收费类别id 不传是全部                         |
| char_source    | String  | 否    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售) 不传是全部     |
| char_user      | int     | 否    | 收\退费人 不传是全部                          |
| accurate_query | int     | 是    | 精确查询模式：0:无精确 1:患者姓名 2:患者手机号码 3：单号    |
| key            | String  | 否    | 根据精确查询模式，代表不同含义 1:患者姓名 2:患者手机号码 3：单号 |
| page_size      | Integer | 否    | 每页条数 空表示10条                          |
| page_num       | Integer | 否    | 第几页 空表示第1页                           |


#### 回复报文参数 

| 参数名       | 类型         | 必填   | 说明       |
| --------- | ---------- | ---- | -------- |
| page_num  | Integer    | 是    | 当前页      |
| page_size | Integer    | 是    | 每页的数量    |
| total     | Integer    | 是    | 总记录数     |
| pages     | Integer    | 是    | 总页数      |
| list      | ObjectList | 是    | 项目统计明细列表 |

项目统计明细列表

| 参数名         | 类型      | 必填   | 说明                         |
| ----------- | ------- | ---- | -------------------------- |
| char_id     | String  | 是    | 结算单ID                      |
| pay_time    | String  | 是    | 时间                         |
| pati_name   | String  | 是    | 患者姓名                       |
| char_no     | String  | 否    | 单号                         |
| type_name   | String  | 是    | 收费类别名称                     |
| item_name   | String  | 是    | 收费项目名称                     |
| item_unit   | Integer | 是    | 单位                         |
| item_price  | Double  | 是    | 单价                         |
| item_count  | Integer | 是    | 数量                         |
| price       | Double  | 是    | 费用总额（金额）                   |
| char_source | String  | 是    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售) |
| char_user   | String  | 是    | 收/退费员                      |


### 收费项目统计导出

```http
 [GET]/charge_service/statistics/item/excel
```
####修改更新记录

| 对应业务            | 说明         |
| --------------- | ---------- |
| hotfix/V1.2.3.1 | 新增  新增导出功能 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名            | 类型     | 必填   | 说明                                   |
| -------------- | ------ | ---- | ------------------------------------ |
| account_id     | String | 是    | 收费账户id                               |
| start_date     | String | 是    | 开始日期                                 |
| end_date       | String | 是    | 结束日期                                 |
| type_id        | String | 否    | 收费类别id 不传是全部                         |
| char_source    | String | 否    | 收费来源(1-挂号处理;2-门诊收费;3-视光销售) 不传是全部     |
| char_user      | int    | 否    | 收\退费人 不传是全部                          |
| accurate_query | int    | 是    | 精确查询模式：0:无精确 1:患者姓名 2:患者手机号码 3：单号    |
| key            | String | 否    | 根据精确查询模式，代表不同含义 1:患者姓名 2:患者手机号码 3：单号 |


#### 回复报文参数 

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| xls文件流 |      |      |      |


### 收费类别统计

```http
 [GET]/charge_service/statistics/class
```

####修改更新记录

| 对应业务   | 说明   |
| ------ | ---- |
| V1.2.2 | 新增   |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名        | 类型     | 必填   | 说明     |
| ---------- | ------ | ---- | ------ |
| account_id | String | 是    | 收费账户id |
| start_date | String | 是    | 开始日期   |
| end_date   | String | 是    | 结束日期   |


#### 回复报文参数 ObjectList

| 参数名      | 类型         | 必填   | 说明               |
| -------- | ---------- | ---- | ---------------- |
| pay_date | String     | 是    | 日期  格式yyyy-mm-dd |
| list     | ObjectList | 是    | 收费类别列表           |


| 参数名       | 类型     | 必填   | 说明       |
| --------- | ------ | ---- | -------- |
| type_id   | String | 是    | 收费类别id   |
| type_name | String | 是    | 收费类别名称   |
| price     | Double | 是    | 费用总额（金额） |



### 收费类别统计导出

```http
 [GET]/charge_service/statistics/class/excel
```

####修改更新记录

| 对应业务            | 说明         |
| --------------- | ---------- |
| hotfix/V1.2.3.1 | 新增  新增导出功能 |
| V1.3.4 | 修改  增加检查单支持 |

#### 请求报文参数

| 参数名        | 类型     | 必填   | 说明     |
| ---------- | ------ | ---- | ------ |
| account_id | String | 是    | 收费账户id |
| start_date | String | 是    | 开始日期   |
| end_date   | String | 是    | 结束日期   |


#### 回复报文参数 ObjectList

| 参数名    | 类型   | 必填   | 说明   |
| ------ | ---- | ---- | ---- |
| xls文件流 |      |      |      |



##业务设置


### 默认参数列表

> [GET]/sys_service/charg_class/default/list 



#### 请求报文参数

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
|      |      |      |      |

#### 回复报文参数ObjectList

| 参数名        | 类型      | 必填   | 说明   |
| ---------- | ------- | ---- | ---- |
| conf_id    | String  | 是    | 配置id |
| conf_code  | Integer | 是    | 配置代码 |
| conf_value | String  | 是    | 配置内容 |




### 默认类别选择列表

> [GET]/sys_service/charg_class/default/choose_list 

####修改更新记录

| 对应版本     | 说明                  |
| -------- | ------------------- |
| V1.2.3.2 | 修改  增加挂号套餐费，检查费默认类型 |

#### 请求报文参数

| 参数名  | 类型      | 必填   | 说明                  |
| ---- | ------- | ---- | ------------------- |
| type | Integer | 否    | 默认类型 1：商品 2：药品 3挂号 4检查 5套餐 空为全部 |

#### 回复报文参数ObjectList

| 参数名        | 类型      | 必填   | 说明                |
| ---------- | ------- | ---- | ----------------- |
| char_id    | String  | 是    | 类别ID              |
| char_code  | String  | 是    | 类别代码              |
| char_name  | String  | 是    | 类别名称              |
| is_default | Integer | 是    | 是否默认, 0：非默认  1：默认 |


##收费单/退费单打印

### 当天已收费订单打印

>[GET]/charge_service/today_payed/print

#### 更新记录

| 对应版本     | 说明                  |
| -------- | ------------------- |
| V1.3.4 | 修改  增加检查单 |


#### 请求报文参数

| 参数名  |  类型  | 必填 |  说明  |
|---------|--------|------|--------|
| char_id | String | 是   | 订单ID |

#### 回复报文参数Object

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| pdf流 |      |      |      |

### 当天已退费订单打印

>[GET]/charge_service/today_refund/print

| 对应版本     | 说明                  |
| -------- | ------------------- |
| V1.3.4 | 修改  增加检查单 |


#### 请求报文参数

| 参数名  |  类型  | 必填 |  说明  |
|---------|--------|------|--------|
| char_id | String | 是   | 订单ID |

#### 回复报文参数Object

| 参数名  | 类型   | 必填   | 说明   |
| ---- | ---- | ---- | ---- |
| pdf流 |      |      |      |